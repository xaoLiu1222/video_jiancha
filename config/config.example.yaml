# ============================================================
# 视频审核系统配置文件示例
# ============================================================
# 使用说明：
# 1. 复制此文件为 config.yaml
# 2. 填入你的 API Key
# 3. 根据需要调整其他配置

# ============================================================
# Google Gemini API 配置（推荐，准确率更高）
# ============================================================
# 获取 API Key: https://aistudio.google.com/apikey
gemini:
  # API 密钥
  # 也可通过环境变量 GEMINI_API_KEY 设置（优先级更高）
  api_key: ""

  # 使用的模型
  # gemini-2.0-flash: 性价比最高（推荐）
  # gemini-2.5-flash: 最新版本，更强
  # gemini-2.0-flash-lite: 更便宜，速度更快
  model: "gemini-2.0-flash"

# ============================================================
# 硅基流动 API 配置（备选方案，国内访问快）
# ============================================================
# 获取 API Key: https://siliconflow.cn
siliconflow:
  # API 密钥
  # 也可通过环境变量 SILICONFLOW_API_KEY 设置（优先级更高）
  api_key: ""

  # 使用的模型
  model: "Qwen/Qwen2.5-VL-72B-Instruct"

  # API 基础地址
  api_base: "https://api.siliconflow.cn/v1"

  # API 超时时间（秒）
  timeout: 180

# ============================================================
# 视频目录配置
# ============================================================
paths:
  # 待审核视频目录（支持绝对路径，如 U 盘: /media/usb/videos）
  video_dir: "./data/to_review"

  # 以下目录配置仅作参考，实际输出目录跟随输入目录
  approved_dir: "./data/approved"
  rejected_dir: "./data/rejected"
  manual_review_dir: "./data/manual_review"
  results_path: "./data/results/review_results.json"

# ============================================================
# 视频处理配置
# ============================================================
video:
  # 采样帧数（仅硅基流动方案使用）
  num_frames: 12

  # 支持的视频格式
  formats: [".mp4", ".avi", ".mov", ".ts", ".mkv", ".flv"]

  # 最小视频时长（秒），低于此时长自动拒绝
  min_duration: 120

  # 智能关键帧提取（仅硅基流动方案）
  smart_extraction: true
  min_frame_interval: 30
  scene_threshold: 30.0

# ============================================================
# 图片配置（仅硅基流动方案使用）
# ============================================================
image:
  # 图片最大边长（像素）
  max_size: 768

  # JPEG 压缩质量（1-100）
  quality: 85

# ============================================================
# 审核策略配置
# ============================================================
review:
  # 启用二次审核（仅硅基流动方案）
  enable_double_check: true

  # 置信度阈值
  confidence_threshold: 0.8

  # 审核严格程度: strict / balanced / lenient
  strictness: "strict"

# ============================================================
# 模型参数配置
# ============================================================
model_params:
  # 最大输出 token 数
  max_tokens: 1024

  # 温度参数（0-1，越低越稳定）
  temperature: 0.2
